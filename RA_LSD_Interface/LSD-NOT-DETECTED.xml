<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="0c07bb8d-0517-4fe1-af9f-f172dd0b5ccd" discardOkResults="true" failOnError="true" failTestCaseOnErrors="true" keepSession="false" name="LSD-NOT-DETECTED" searchProperties="true" timeout="0" xmlns:con="http://eviware.com/soapui/config"><con:settings><con:setting id="91fe9efb-912a-4181-aa03-34a7ff5f399bfileName">NewRegistration</con:setting><con:setting id="4b2e4492-fcdb-4c56-9bea-f9eb5f72501dfileName">NewRegistration</con:setting><con:setting id="78cf9534-437d-4717-b29a-75dcbb27e157fileName">LSD-DETECTED</con:setting><con:setting id="0c07bb8d-0517-4fe1-af9f-f172dd0b5ccdfileName">LSD-NOT-DETECTED</con:setting></con:settings><con:savedRecentRuns>1</con:savedRecentRuns><con:testStep type="jdbc" name="getData" id="5523f261-ce3b-4bb4-b456-86dbd42f827e" disabled="true"><con:settings><con:setting id="prettyPrintResponse">true</con:setting></con:settings><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dbConnectionName xsi:nil="true"/><con:driver>${DB-Driver}</con:driver><con:connectionString>${Database}</con:connectionString><con:password/><con:query>SELECT BKNG_ID,ETS_APNTMT_ID,CUST_FST_NAM FROM BKNG WHERE BKNG_ID = 392495 -- D2D
--SELECT BKNG_ID,ETS_APNTMT_ID,CUST_FST_NAM FROM BKNG WHERE BKNG_ID = 4693764
--SELECT BKNG_ID,ETS_APNTMT_ID,CUST_FST_NAM FROM BKNG WHERE CUST_FST_NAM LIKE 'cffirst%' ORDER BY DATE_CREATED DESC</con:query><con:assertion type="XPath Match" id="1fe1723d-992c-4ce9-b566-b5f156f55749" name="Check count of [Row]"><con:configuration><path>count( //Results/ResultSet/Row)>0</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="d3ccf769-1f39-40b0-8e99-6a1eb6bd3ed3" disabled="true"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ETS_APNTMT_ID</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>getData</con:sourceStep><con:sourcePath>//Results[1]/ResultSet[1]/Row[1]/ETS_APNTMT_ID[1]</con:sourcePath><con:targetType>ETS_APNTMT_ID</con:targetType><con:targetStep>Properties</con:targetStep><con:targetPath/><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>BKNG_ID</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>getData</con:sourceStep><con:sourcePath>//Results[1]/ResultSet[1]/Row[1]/BKNG_ID[1]</con:sourcePath><con:targetType>BKNG_ID</con:targetType><con:targetStep>Properties</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="jdbc" name="getTestTakerData" id="c6b52a4f-0c96-4530-8d78-312a223f5bc0" disabled="true"><con:settings><con:setting id="prettyPrintResponse">true</con:setting></con:settings><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dbConnectionName xsi:nil="true"/><con:driver>${DB-Driver}</con:driver><con:connectionString>${Database}</con:connectionString><con:password/><con:query>SELECT BLC_CUSTOMER.CUSTOMER_ID,BKNG.REGN_SYS_ID AS RegistrationSystemCode, BKNG.DATE_CREATED as TransactionDate, BLC_CUSTOMER.USER_NAME AS ActiveDirectoryUserName,
ETS_CUST.LDAP_GUID_ID AS ActiveDirectoryGUID,ETS_CUST_LNKG.LNKG_KY AS CandidateID,BKNG.DATE_UPDATED AS ActivityDate,
BKNG.CUST_LST_NAM AS LastName, BKNG.CUST_FST_NAM AS FirstName,BKNG.CUST_MID_NAM AS MiddleName, BKNG.CUST_BRTH_DT AS BirthDate, ETS_CUST.GNDR_CDE AS Gender,
ETS_CUST.SSN AS SocialSecurityNumber,BLC_PHONE.PHONE_NUMBER AS PrimaryPhone,BLC_CUSTOMER.EMAIL_ADDRESS As EmailAddress, ETS_PHONE.TEL_EXTNSN_NO AS PhoneExtension,
BLC_ADDRESS.ADDRESS_ID,ETS_ADR.ADR_PRPS_CDE,BLC_ADDRESS.ADDRESS_LINE1,BLC_ADDRESS.ADDRESS_LINE2,ETS_ADR.PSTL_LN_3_ADR,ETS_ADR.PSTL_LN_4_ADR,
BLC_ADDRESS.CITY AS City,BLC_ADDRESS.STATE_PROV_REGION AS StateProvince,BLC_ADDRESS.POSTAL_CODE as PostalCode, ETS_CNTRY.ISO3_CNTRY_CDE as CountryCode,ETS_CNTRY.ISD_CDE AS PhoneCountryCode,
DECODE(ETS_CUST_ADTNL_INFO.ADTNL_INFO_TYP_CDE,'NTLNG',(SELECT LANG.ISO639_LANG_CDE FROM LANG WHERE LANG.LANG_CDE = ETS_CUST_ADTNL_INFO.ADTNL_INFO_TYP_VAL)) AS NativeLanguageCode,
DECODE(ETS_CUST_ADTNL_INFO.ADTNL_INFO_TYP_CDE,'CTZCD', (SELECT ETS_CNTRY.ISO3_CNTRY_CDE FROM ETS_CNTRY WHERE ETS_CNTRY.CNTRY_CDE = ETS_CUST_ADTNL_INFO.ADTNL_INFO_TYP_VAL)) AS CitizenshipCountryCode,
DECODE(ETS_CUST_ADTNL_INFO.ADTNL_INFO_TYP_CDE,'CTRBT',(SELECT ETS_CNTRY.ISO3_CNTRY_CDE FROM ETS_CNTRY WHERE ETS_CNTRY.CNTRY_CDE = ETS_CUST_ADTNL_INFO.ADTNL_INFO_TYP_VAL)) AS CountryOfBirth,
BKNG.APNTMT_DT AS AppointmentDate, TST.PGM_CDE AS TestingProgram, TST_VARTN.TST_CDE AS TestName, TST_VARTN.FUNC_CDE AS AlternateTestID
FROM 
BKNG,BLC_CUSTOMER,ETS_CUST,BLC_ADDRESS,ETS_CUST_LNKG,BLC_PHONE,BLC_CUSTOMER_PHONE,ETS_PHONE,ETS_CUST_ADTNL_INFO,ETS_ADR,ETS_CNTRY,TST,TST_VARTN
WHERE 
BKNG.CUST_FST_NAM = BLC_CUSTOMER.FIRST_NAME  AND BKNG.CUST_LST_NAM = BLC_CUSTOMER.LAST_NAME 
AND BLC_CUSTOMER.CUSTOMER_ID = ETS_CUST.CUSTOMER_ID AND ETS_CUST_LNKG.CUSTOMER_ID = BLC_CUSTOMER.CUSTOMER_ID
AND BLC_CUSTOMER_PHONE.CUSTOMER_ID = BLC_CUSTOMER.CUSTOMER_ID AND BLC_CUSTOMER_PHONE.PHONE_ID = BLC_PHONE.PHONE_ID AND BLC_CUSTOMER_PHONE.PHONE_NAME = 'primary' AND ETS_PHONE.PHONE_ID =  BLC_PHONE.PHONE_ID
AND ETS_CUST_ADTNL_INFO.CUSTOMER_ID = BLC_CUSTOMER.CUSTOMER_ID 
AND BLC_ADDRESS.FIRST_NAME = BKNG.CUST_FST_NAM AND BLC_ADDRESS.LAST_NAME = BKNG.CUST_LST_NAM
AND ETS_ADR.ADDRESS_ID = BLC_ADDRESS.ADDRESS_ID AND BLC_ADDRESS.COUNTRY = ETS_CNTRY.CNTRY_CDE AND ETS_ADR.ADR_PRPS_CDE = 'HOME'  AND ETS_CUST_ADTNL_INFO.ADTNL_INFO_TYP_CDE IN ('CTZCD','NTLNG','CTRBT')
AND BKNG.TST_ID = TST.TST_ID AND BKNG.TST_ID = TST_VARTN.TST_ID
AND BKNG.BKNG_ID = ${Properties#BKNG_ID} 
</con:query><con:assertion type="XPath Match" id="1fe1723d-992c-4ce9-b566-b5f156f55749" name="Check count of [Row]"><con:configuration><path>count( //Results/ResultSet/Row)>0</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="jdbc" name="getAiDiData" id="e7b6340c-4ae7-425f-bf41-b3c9bff5fd4e" disabled="true"><con:settings><con:setting id="prettyPrintResponse">true</con:setting></con:settings><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dbConnectionName xsi:nil="true"/><con:driver>${DB-Driver}</con:driver><con:connectionString>${Database}</con:connectionString><con:password/><con:query>SELECT CASE BKNG_ORG_SLCTN.SLCTN_TYP_CDE WHEN 'SELAI' THEN 'AI' ELSE 'DI' END AS Type,ORG.EXTRNL_ORG_ID AS ID,ORG.ORG_NAM AS Name,BLC_ADDRESS.POSTAL_CODE AS PostalCode,
BLC_ADDRESS.STATE_PROV_REGION AS StateCode,ORG_SB_TYP.ORG_SB_TYP_CDE AS DeptCode 
FROM BKNG_ORG_SLCTN,ORG,BLC_ADDRESS,ORG_SB_TYP,BKNG ,ORG_ADR,ETS_CUST,BLC_CUSTOMER
WHERE 
BKNG_ORG_SLCTN.BKNG_ID = BKNG.BKNG_ID AND BKNG.CUST_FST_NAM = BLC_CUSTOMER.FIRST_NAME  AND BKNG.CUST_LST_NAM = BLC_CUSTOMER.LAST_NAME 
AND BLC_CUSTOMER.CUSTOMER_ID = ETS_CUST.CUSTOMER_ID AND BKNG_ORG_SLCTN.ORG_ID_NO  = ORG.ORG_ID_NO AND ORG_ADR.ORG_ID_NO = BKNG_ORG_SLCTN.ORG_ID_NO 
AND ORG_ADR.ADDRESS_ID = BLC_ADDRESS.ADDRESS_ID AND BKNG_ORG_SLCTN.ORG_SB_TYP_ID = ORG_SB_TYP.ORG_SB_TYP_ID AND BKNG.BKNG_ID = ${Properties#BKNG_ID} 
</con:query><con:assertion type="XPath Match" id="1fe1723d-992c-4ce9-b566-b5f156f55749" name="Check count of [Row]"><con:configuration><path>count( //Results/ResultSet/Row)>0</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="jdbc" name="getTestSiteData" id="80961bb8-761b-4876-867c-b50c29cdfa12" disabled="true"><con:settings><con:setting id="prettyPrintResponse">true</con:setting></con:settings><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dbConnectionName xsi:nil="true"/><con:driver>${DB-Driver}</con:driver><con:connectionString>${Database}</con:connectionString><con:password/><con:query>SELECT ORG.EXTRNL_ORG_ID AS SITE_ID,ORG.ORG_NAM AS Name,BKNG.TM_ZN_OFST_QTY AS TimeZoneOffset, BLC_ADDRESS.ADDRESS_LINE1 AS SITE_ADDRESS_LINE1,
BLC_ADDRESS.ADDRESS_LINE2 AS SITE_ADDRESS_LINE2,ETS_ADR.PSTL_LN_3_ADR AS SITE_ADDRESS_LINE3,ETS_ADR.PSTL_LN_4_ADR AS SITE_ADDRESS_LINE4,
BLC_ADDRESS.CITY AS SITE_City,BLC_ADDRESS.COUNTY AS COUNTY, BLC_ADDRESS.STATE_PROV_REGION AS SITE_StateProvince,BLC_ADDRESS.POSTAL_CODE as SITE_PostalCode, ETS_CNTRY.ISO3_CNTRY_CDE as SITE_CountryCode
FROM 
BKNG,ORG,ORG_ADR,BLC_ADDRESS,ETS_ADR,ETS_CNTRY
WHERE 
BKNG.TST_CNTR_ID_NO = ORG.ORG_ID_NO AND ORG.ORG_ID_NO = ORG_ADR.ORG_ID_NO AND ORG_ADR.ADDRESS_ID = BLC_ADDRESS.ADDRESS_ID AND ETS_ADR.ADDRESS_ID = ORG_ADR.ADDRESS_ID
AND BLC_ADDRESS.COUNTRY = ETS_CNTRY.CNTRY_CDE
AND BKNG.BKNG_ID = ${Properties#BKNG_ID} 
</con:query><con:assertion type="XPath Match" id="1fe1723d-992c-4ce9-b566-b5f156f55749" name="Check count of [Row]"><con:configuration><path>count( //Results/ResultSet/Row)>0</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="groovy" name="getFilePath" id="b2fef52c-88f9-47d2-96ac-0b8bb7c80723" disabled="true"><con:settings/><con:config><script>import util.RestClient;
RestClient client = new RestClient();

def eTS_APNTMT_ID = context.expand( '${Properties#ETS_APNTMT_ID}' )

def environment = context.expand( '${Environment}' )

def filepath =  client.getFilePath( environment, eTS_APNTMT_ID ,"New","request");
log.info filepath
testRunner.testCase.getTestStepByName("Properties").setPropertyValue("filepath",filepath);
testRunner.testCase.getTestStepByName("Properties").setPropertyValue("env",environment);
</script></con:config></con:testStep><con:testStep type="properties" name="Properties" id="8937b11b-5c4b-4419-b0cb-3b4835fb8c9b"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>filepath</con:name><con:value>/20171010/1300/_RAServiceCall_EXTRCTID_545120_BOOKINGID_4696321_2017-10-10_13-36-03.883_response.xml</con:value></con:property><con:property><con:name>ETS_APNTMT_ID</con:name><con:value>7946811170017722</con:value></con:property><con:property><con:name>BKNG_ID</con:name><con:value>4696321</con:value></con:property><con:property><con:name>env</con:name><con:value>DEV</con:value></con:property><con:property><con:name>requestFilePath</con:name><con:value>/20171010/1300/_RAServiceCall_EXTRCTID_545120_BOOKINGID_4696321_2017-10-10_13-36-01.898_request.xml</con:value></con:property><con:property><con:name>numberofappointments</con:name><con:value>2</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="restrequest" name="LSD-NOT-DETECTED-REQUEST" id="8dc53f0a-bfae-4359-b08f-34c60529230b"><con:settings/><con:config service="Server-Logs-Url" resourcePath="/{env}/LSDService{filepath}" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="LSD-NOT-DETECTED-REQUEST" id="b8c9f4b0-eaa3-4e20-8099-661fb0f46dac" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding xsi:nil="true"/><con:request/><con:originalUri>https://etsvcln0938.etslan.org/ATSBatch/</con:originalUri><con:assertion type="XPath Match" id="3f80f390-7f39-4f09-9197-24035aa04b3a" name="Check count of [appointmentInfo]"><con:configuration><path>declare namespace ns1='http://www.ets.org/schema/RAServices/LSDRequest';
count( //ns1:getLSDdataForAnAppointmentRequest/ns1:appointments/ns1:appointmentInfo)</path><content>2</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="9ceecd05-f79b-4233-84a7-4bf1f2914b3c" name="Match content of [programCode]"><con:configuration><path>declare namespace ns1='http://www.ets.org/schema/RAServices/LSDRequest';
//ns1:getLSDdataForAnAppointmentRequest[1]/ns1:programCode[1]/text()</path><content>TEL</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="714393c0-be73-45b1-b131-08e4be4ed668" name="Match content of [testAbbreviation]"><con:configuration><path>declare namespace ns1='http://www.ets.org/schema/RAServices/LSDRequest';
//ns1:getLSDdataForAnAppointmentRequest[1]/ns1:testAbbreviation[1]/text()</path><content>XML</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="10698aef-c45f-4da3-9e32-f132ab728c9b" name="lsdRequestAppointment false count [lsdRequestAppointment]"><con:configuration><path>declare namespace ns1='http://www.ets.org/schema/RAServices/LSDRequest';
count(//ns1:getLSDdataForAnAppointmentRequest[1]/ns1:appointments[1]/ns1:appointmentInfo[1]/ns1:lsdRequestAppointment[1][text(),'false'])</path><content>${=${Properties#numberofappointments}.toInteger() - 1}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="lsdRequestAppointment true count [lsdRequestAppointment]" id="6ad76593-298a-4bd3-b91c-83a546bc3a05"><con:configuration><path>declare namespace ns1='http://www.ets.org/schema/RAServices/LSDRequest';
count(//ns1:getLSDdataForAnAppointmentRequest[1]/ns1:appointments[1]/ns1:appointmentInfo[1]/ns1:lsdRequestAppointment[1][text(),'true'])</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="filepath" value="${Properties#requestFilePath}"/>
  <con:entry key="env" value="${Properties#env}"/>
</con:parameters><con:parameterOrder><con:entry>filepath</con:entry><con:entry>env</con:entry></con:parameterOrder><con:environmentSpec><con:entry environmentId="1616f813-7e88-44f3-9295-00c26c282621"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="8d9a0c7e-6293-4ea0-ae89-48b18a6caf96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="2c3ec9ec-bb1f-45d5-a8cc-50b0b05d3240"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="8a20f3d0-3ddd-42c2-9e03-779de7421e8a"><con:authProfile>No Authorization</con:authProfile></con:entry></con:environmentSpec></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="LSD-NOT-DETECTED-Response" id="7a47711e-5db3-4b24-a320-d0572a5ca825"><con:settings/><con:config service="Server-Logs-Url" resourcePath="/{env}/LSDService{filepath}" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="LSD-NOT-DETECTED-Response" id="b8c9f4b0-eaa3-4e20-8099-661fb0f46dac" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding xsi:nil="true"/><con:request/><con:originalUri>https://etsvcln0938.etslan.org/ATSBatch/</con:originalUri><con:assertion type="XPath Match" id="3c76acc2-b64c-42bc-85a1-03da6c4071e2" name="Match content of [ns2:programCode]"><con:configuration><path>declare namespace ns2='http://www.ets.org/schema/RAServices/LSDResponse';
//ns2:getLSDdataForAnAppointmentResponse[1]/ns2:programCode[1]/text()</path><content>TEL</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="b95f420c-7473-4759-9574-8187d33e18dd" name="Match content of [ns2:testAbbreviation]"><con:configuration><path>declare namespace ns2='http://www.ets.org/schema/RAServices/LSDResponse';
//ns2:getLSDdataForAnAppointmentResponse[1]/ns2:testAbbreviation[1]/text()</path><content>XML</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="5aa000e2-2da0-4d2e-ac00-65e3d4c16403" name="Match content of [ns2:regSysId]"><con:configuration><path>declare namespace ns2='http://www.ets.org/schema/RAServices/LSDResponse';
//ns2:getLSDdataForAnAppointmentResponse[1]/ns2:appointments[1]/ns2:appointmentInfo[1]/ns2:regSysId[1]/text()</path><content>ERS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="ca755643-d3ba-4df3-b062-d8a97c97ce51" name="Check count of [ns2:appointmentInfo]"><con:configuration><path>declare namespace ns2='http://www.ets.org/schema/RAServices/LSDResponse';
count( //ns2:getLSDdataForAnAppointmentResponse/ns2:appointments/ns2:appointmentInfo)</path><content>${Properties#numberofappointments}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="dd53247e-f7a4-4902-9c71-9cec14d4ffc1" name=" lsdRequestAppointment flag true-COUNT should be one"><con:configuration><path>declare namespace ns2='http://www.ets.org/schema/RAServices/LSDResponse';
count(//ns2:getLSDdataForAnAppointmentResponse[1]/ns2:appointments[1]/ns2:appointmentInfo[*]/ns2:lsdRequestAppointment[1]/text()='true')</path><content>1</content><allowWildcards>true</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name=" lsdRequestAppointment flag false-COUNT" id="41b1ea69-2858-429e-8201-6db1554ed026"><con:configuration><path>declare namespace ns2='http://www.ets.org/schema/RAServices/LSDResponse';
count(//ns2:getLSDdataForAnAppointmentResponse[1]/ns2:appointments[1]/ns2:appointmentInfo[*]/ns2:lsdRequestAppointment[1]/text()='false')</path><content>${=${Properties#numberofappointments}.toInteger() - 1}</content><allowWildcards>true</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name=" lsdAppointment flag false-COUNT" id="93c4f540-182e-4ff8-93b9-c9402bb7f187"><con:configuration><path>declare namespace ns2='http://www.ets.org/schema/RAServices/LSDResponse';
count(//ns2:getLSDdataForAnAppointmentResponse[1]/ns2:appointments[1]/ns2:appointmentInfo/ns2:lsdAppointmentFlag[1][text(),'false'])</path><content>${Properties#numberofappointments}</content><allowWildcards>true</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="filepath" value="${Properties#filepath}"/>
  <con:entry key="env" value="${Properties#env}"/>
</con:parameters><con:parameterOrder><con:entry>filepath</con:entry><con:entry>env</con:entry></con:parameterOrder><con:environmentSpec><con:entry environmentId="1616f813-7e88-44f3-9295-00c26c282621"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="8d9a0c7e-6293-4ea0-ae89-48b18a6caf96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="2c3ec9ec-bb1f-45d5-a8cc-50b0b05d3240"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="8a20f3d0-3ddd-42c2-9e03-779de7421e8a"><con:authProfile>No Authorization</con:authProfile></con:entry></con:environmentSpec></con:restRequest></con:config></con:testStep><con:testStep type="jdbc" name="Verify_BKNG_ANLYS_RSLT_table" id="bac2865d-1bc5-48a7-8729-55f4cf5a2c96"><con:settings><con:setting id="prettyPrintResponse">true</con:setting></con:settings><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dbConnectionName xsi:nil="true"/><con:driver>${DB-Driver}</con:driver><con:connectionString>${Database}</con:connectionString><con:password/><con:query>SELECT * FROM BKNG_ANLYS_RSLT WHERE BKNG_ID = ${Properties#BKNG_ID}</con:query><con:assertion type="XPath Match" id="1fe1723d-992c-4ce9-b566-b5f156f55749" name="Check count of [Row]"><con:configuration><path>count( //Results/ResultSet/Row)>0</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="4d979420-fdfc-4486-b24b-94e0dbcafecf" name="Match content of [BKNG_ANLYS_TYP_CDE]"><con:configuration><path>//Results[1]/ResultSet[1]/Row[1]/BKNG_ANLYS_TYP_CDE[1]/text()</path><content>LSDN</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="jdbc" name="Verify_TST_SCR_LSD_table" id="30f1b358-a9c9-46e7-af41-b8b15f90e7ca"><con:settings><con:setting id="prettyPrintResponse">true</con:setting></con:settings><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dbConnectionName xsi:nil="true"/><con:driver>${DB-Driver}</con:driver><con:connectionString>${Database}</con:connectionString><con:password/><con:query>SELECT * FROM TST_SCR_LSD WHERE CURR_BKNG_ID = ${Properties#BKNG_ID}</con:query><con:assertion type="XPath Match" id="fdc5f9a8-ed9e-4704-bc39-554cf69cb843" name="Check count of [Row]"><con:configuration><path>count( //Results/ResultSet/Row)</path><content>0</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="jdbc" name="Verify_TST_SCR_table" id="41b40629-66f0-4fc1-9a0d-5383177caf4f"><con:settings><con:setting id="prettyPrintResponse">true</con:setting></con:settings><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dbConnectionName xsi:nil="true"/><con:driver>${DB-Driver}</con:driver><con:connectionString>${Database}</con:connectionString><con:password/><con:query>SELECT * FROM TST_SCR WHERE BKNG_ID = ${Properties#BKNG_ID}</con:query><con:assertion type="XPath Match" id="c3e222e2-f04a-4213-8156-3e602fb3001d" name="Check count of [Row]"><con:configuration><path>count( //Results/ResultSet/Row)</path><content>22</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="9a98bcb6-cf78-4cfa-8d09-3517f6ad6ff1" name="ScaledScores [LSD_STS_TYP_CDE]"><con:configuration><path>//Results[1]/ResultSet[1]/Row[TST_LVL_SCR_NAM[1]/ends-with(text(), 'SCL')]/LSD_STS_TYP_CDE/text()</path><content>[NO,NO,NO,NO]</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="245ed8c0-f13e-41c8-b802-c4abb44068d6" name="Total [LSD_STS_TYP_CDE]"><con:configuration><path>//Results[1]/ResultSet[1]/Row[TST_LVL_SCR_NAM[1]/ends-with(text(), 'TOTAL')]/LSD_STS_TYP_CDE/text()</path><content>NO</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="CombinationScores [LSD_STS_TYP_CDE]" id="46a8dd1b-9f26-4a6c-a69d-3ac4d43be131"><con:configuration><path>//Results[1]/ResultSet[1]/Row[TST_LVL_SCR_NAM[1]/contains(text(), '+')]/LSD_STS_TYP_CDE/text()</path><content>[NO,NO,NO,NO,NO,NO,NO,NO,NO,NO]</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="jdbc" name="Verify_EXTRCT_RPT_table" id="42279cab-a8b6-4840-aee3-6ba9350d3045"><con:settings><con:setting id="prettyPrintResponse">true</con:setting></con:settings><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dbConnectionName xsi:nil="true"/><con:driver>${DB-Driver}</con:driver><con:connectionString>${Database}</con:connectionString><con:password/><con:query>SELECT * FROM EXTRCT_RPT WHERE BKNG_ID = ${Properties#BKNG_ID}</con:query><con:assertion type="XPath Match" id="035f8495-852d-4d5b-b0a3-7796d8a3c830" name="Check count of [Row]"><con:configuration><path>count( //Results/ResultSet/Row)</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="7f27ed1b-c25c-404e-ada6-8a3c1725b705" name="Match content of [EXTRCT_TYP_CDE]"><con:configuration><path>//Results[1]/ResultSet[1]/Row[1]/EXTRCT_TYP_CDE[1]/text()</path><content>LSD</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="8b2bdd13-e6de-4a26-bd6a-50f575b0ea09" name="Match content of [LSD_EXTRCT_FLG]"><con:configuration><path>//Results[1]/ResultSet[1]/Row[1]/LSD_EXTRCT_FLG[1]/text()</path><content>Y</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="664f3490-65f0-411a-adbf-de3a3feca5aa" name="Match content of [LSD_EXTRCT_DTM]"><con:configuration><path>//Results[1]/ResultSet[1]/Row[1]/LSD_EXTRCT_DTM[1]/text() != ''</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:properties/><con:reportParameters/><con:breakPoints><con:testStepId>aee8ebb8-0546-4410-8f27-3b304d18fde8</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>efab2a0b-74a5-4ea5-b897-b0385603f249</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>ef834dda-63e7-4dee-a143-120bad65c116</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>27b19dc0-607b-46c0-89e1-c2c1aa029175</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>feb1d957-e430-427e-a5c8-a9e39625e289</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>8269c0c7-b05d-4f79-b51e-9eff3b0828da</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>1c29ff33-858e-48f7-9359-29480d7eb241</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>7d85968f-50ff-4a7d-9798-1a7fa460c52c</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>f31dce47-5088-481c-912e-5c196ffc1da4</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>184338d1-d8d8-48e6-ae00-00eba3554e5f</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>8dc53f0a-bfae-4359-b08f-34c60529230b</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:environmentSpec><con:entry environmentId="1616f813-7e88-44f3-9295-00c26c282621"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="8d9a0c7e-6293-4ea0-ae89-48b18a6caf96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="2c3ec9ec-bb1f-45d5-a8cc-50b0b05d3240"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:testCase>