<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="d5cf2d1b-2998-46ad-a4a5-db86794fbcdc" discardOkResults="true" failOnError="true" failTestCaseOnErrors="true" keepSession="false" name="InvalidAppointmentIdScoreCancel" searchProperties="true" timeout="0" xmlns:con="http://eviware.com/soapui/config"><con:settings><con:setting id="da05e1f9-257b-4ef4-8c58-399da2375aaafileName">ScoreHold</con:setting><con:setting id="cee2d8a5-8c2b-4d28-930f-fcb3780abae9fileName">InvalidRequestTypeScoreHold</con:setting><con:setting id="50113587-5b78-455b-bbe2-dcebcba786c2fileName">InvalidRequestTypeScoreHold</con:setting><con:setting id="964b65c1-c7c7-4a0f-94fe-dbb07ef1aeb1fileName">InvalidsourceSystemIdScoreCancel</con:setting><con:setting id="d5cf2d1b-2998-46ad-a4a5-db86794fbcdcfileName">InvalidAppointmentIdScoreCancel</con:setting></con:settings><con:savedRecentRuns>1</con:savedRecentRuns><con:testStep type="properties" name="Properties" id="bf079770-5a0e-4b47-9ed4-8293ea858642"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>ETS_APNTMT_ID</con:name><con:value>4338310170000000</con:value></con:property><con:property><con:name>BKNG_ID</con:name><con:value>392593</con:value></con:property><con:property><con:name>REG_SYS_ID</con:name><con:value>ERS</con:value></con:property><con:property><con:name>REASON</con:name><con:value>SEC</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="restrequest" name="ScoreCancel" id="b758a3b4-9c26-4cda-ac8e-87c7fde466a4"><con:settings/><con:config service="ScoreCancelReinstate" resourcePath="/ereg-appointment-service/rest/score/cancel" methodName="Cancel" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="ScoreCancel" id="5b185cf1-d78c-4151-8148-62288cd71dbf" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="password" value="1qaz@WSX"/>
  <con:entry key="SourceSystemId" value="ERS"/>
  <con:entry key="username" value="Intsyseregdvi"/>
  <con:entry key="Content-Type" value="application/json"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>https://v2-appointment-dev.ereg.ets.org</con:endpoint><con:request>{
    "sourceSystemId":"ERS",
    "appointmentIdList":[
        {
            "appointmentId":"${Properties#ETS_APNTMT_ID}",
            "regSysId":"${Properties#REG_SYS_ID}"
        }
    ],
    "requestType":"CNCLS",
    "reasonType":"${Properties#REASON}",
    "comment":"Test Cancel"

}
</con:request><con:originalUri>https://v2-appointment-dev.ereg.ets.org/ereg-appointment-service/rest/score/cancel</con:originalUri><con:assertion type="JsonPath Match" id="2d9294a7-68b3-4fc9-8867-02781c242858" name="Match content of [appointmentStatus]"><con:configuration><path>$['appointmentStatusList'][0]['appointmentStatus']</path><content>FAILED</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="bda98206-3418-4f14-9ea7-3b8d507879d4" name="Match content of [appointmentId]"><con:configuration><path>$['appointmentStatusList'][0]['appointmentId']</path><content>${Properties#ETS_APNTMT_ID}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="274b171a-7562-4284-90e5-0220eb3b1d59" name="Match content of [appointmentErrorMessage]"><con:configuration><path>$['appointmentStatusList'][0]['appointmentErrorMessage']</path><content>Invalid Appointment Id and RegSysId combination</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/><con:environmentSpec><con:entry environmentId="1616f813-7e88-44f3-9295-00c26c282621"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="8d9a0c7e-6293-4ea0-ae89-48b18a6caf96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="2c3ec9ec-bb1f-45d5-a8cc-50b0b05d3240"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="8a20f3d0-3ddd-42c2-9e03-779de7421e8a"><con:authProfile>No Authorization</con:authProfile></con:entry></con:environmentSpec></con:restRequest></con:config></con:testStep><con:testStep type="jdbc" name="verify_HLD_table" id="a6b1c05a-7ac3-4d77-b7bb-e8b00daad3af"><con:settings><con:setting id="prettyPrintResponse">true</con:setting></con:settings><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dbConnectionName xsi:nil="true"/><con:driver>${DB-Driver}</con:driver><con:connectionString>${Database}</con:connectionString><con:password/><con:query>SELECT * FROM HLD WHERE bkng_id= ${Properties#BKNG_ID}  ORDER BY DATE_CREATED DESC </con:query><con:assertion type="XPath Match" id="a7c6be09-19bd-4b2d-b4a4-9b187505e0cb" name="Match content of [Results]"><con:configuration><path>//Results[1]</path><content>&lt;Results>
  &lt;ResultSet fetchSize="10"/>
&lt;/Results></content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:properties/><con:reportParameters/><con:breakPoints><con:testStepId>9d95bef3-a6b3-4ba3-83b4-439613ba1a15</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>ca6ca369-ef57-4922-8d91-514fbba72870</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>43f6b491-6dcc-4d7a-8fbf-9e3d77f7a71c</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>7df82b00-c7a1-4d54-a209-6c7d24144ace</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>84c1828e-e6af-41c3-b2ed-57a84cfc9f71</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:environmentSpec><con:entry environmentId="1616f813-7e88-44f3-9295-00c26c282621"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="8d9a0c7e-6293-4ea0-ae89-48b18a6caf96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="2c3ec9ec-bb1f-45d5-a8cc-50b0b05d3240"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:testCase>